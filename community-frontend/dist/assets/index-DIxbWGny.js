import{N as c,d as b,E as h,a7 as C,A as i,t as w,b as g,m as k,l as M}from"./vendor-vue-CpX8Jn4o.js";import{P as d}from"./vnode-D67uqoy8.js";import{b as x,a as f,h as m,p as E}from"./index-BRtYqat6.js";import{t as S,p,q as O,r as P,s as T}from"./_plugin-vue_export-helper-BH_is9DS.js";import{g as z}from"./scroll-C14GUqjp.js";const B=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},I=x({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),L={click:e=>e instanceof MouseEvent},N="overlay";var H=b({name:"ElOverlay",props:I,emits:L,setup(e,{slots:t,emit:s}){const n=f(N),r=u=>{s("click",u)},{onClick:a,onMousedown:o,onMouseup:l}=B(e.customMaskEvent?void 0:r);return()=>e.mask?h("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:l},[i(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):C("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[i(t,"default")])}});const q=H,D=(e,t={})=>{w(e)||S("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),n=g(()=>s.bm("parent","hidden"));if(!E||p(document.body,n.value))return;let r=0,a=!1,o="0";const l=()=>{setTimeout(()=>{typeof document>"u"||a&&document&&(document.body.style.width=o,T(document.body,n.value))},200)};k(e,u=>{if(!u){l();return}a=!p(document.body,n.value),a&&(o=document.body.style.width,O(document.body,n.value)),r=z(s.namespace.value);const y=document.documentElement.clientHeight<document.body.scrollHeight,v=P(document.body,"overflowY");r>0&&(y||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${r}px)`)}),M(()=>l())};export{q as E,D as a,B as u};
