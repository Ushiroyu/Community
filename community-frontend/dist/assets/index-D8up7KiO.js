import{m as L}from"./_plugin-vue_export-helper-BH_is9DS.js";import{r as H,p as P,w as T,W as y}from"./vendor-vue-CpX8Jn4o.js";const U=(n,a,M,h)=>{const o={offsetX:0,offsetY:0},u=H(!1),p=(t,e)=>{if(n.value){const{offsetX:f,offsetY:l}=o,s=n.value.getBoundingClientRect(),i=s.left,c=s.top,m=s.width,r=s.height,v=document.documentElement.clientWidth,E=document.documentElement.clientHeight,x=-i+f,D=-c+l,W=v-i-m+f,b=E-c-(r<E?r:0)+l;h!=null&&h.value||(t=Math.min(Math.max(t,x),W),e=Math.min(Math.max(e,D),b)),o.offsetX=t,o.offsetY=e,n.value.style.transform=`translate(${L(t)}, ${L(e)})`}},g=t=>{const e=t.clientX,f=t.clientY,{offsetX:l,offsetY:s}=o,i=m=>{u.value||(u.value=!0);const r=l+m.clientX-e,v=s+m.clientY-f;p(r,v)},c=()=>{u.value=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",c)},X=()=>{a.value&&n.value&&(a.value.addEventListener("mousedown",g),window.addEventListener("resize",d))},w=()=>{a.value&&n.value&&(a.value.removeEventListener("mousedown",g),window.removeEventListener("resize",d))},Y=()=>{o.offsetX=0,o.offsetY=0,n.value&&(n.value.style.transform="")},d=()=>{const{offsetX:t,offsetY:e}=o;p(t,e)};return P(()=>{T(()=>{M.value?X():w()})}),y(()=>{w()}),{isDragging:u,resetPosition:Y,updatePosition:d}};export{U as u};
