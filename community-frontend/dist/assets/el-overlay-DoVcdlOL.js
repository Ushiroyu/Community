import{b as U,e as ne,h as N,l as te,m as ae,n as se,o as z,p as ue}from"./index-BRtYqat6.js";import{i as ie,f as k,m as re}from"./_plugin-vue_export-helper-BH_is9DS.js";import{t as ce}from"./index-CkCNIzEM.js";import{U as V}from"./http-y0YsLSxU.js";import{a as fe}from"./index-DIxbWGny.js";import{g as de,r as y,b as s,h as ve,f as ye,y as M,m as D,p as me,q as ge}from"./vendor-vue-CpX8Jn4o.js";const Ee=Symbol("dialogInjectionKey"),j="dialog-fade",be=U({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:ie},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),De={close:()=>!0},Le=U({...be,appendToBody:Boolean,appendTo:{type:ce.to.type,default:"body"},beforeClose:{type:N(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:N([String,Object]),default:void 0}}),Te={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[V]:l=>ne(l),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},he=(l,a)=>{var L;const u=de().emit,{nextZIndex:m}=te();let T="";const $=k(),q=k(),i=y(!1),g=y(!1),f=y(!1),b=y((L=l.zIndex)!=null?L:m());let r,c;const h=ae(),G=s(()=>{var e,o;return(o=(e=h.value)==null?void 0:e.namespace)!=null?o:se}),d=s(()=>{var e;return(e=h.value)==null?void 0:e.dialog}),K=s(()=>{const e={},o=`--${G.value}-dialog`;return l.fullscreen||(l.top&&(e[`${o}-margin-top`]=l.top),l.width&&(e[`${o}-width`]=re(l.width))),e}),Z=s(()=>{var e,o,n;return((n=(o=l.draggable)!=null?o:(e=d.value)==null?void 0:e.draggable)!=null?n:!1)&&!l.fullscreen}),x=s(()=>{var e,o,n;return(n=(o=l.alignCenter)!=null?o:(e=d.value)==null?void 0:e.alignCenter)!=null?n:!1}),J=s(()=>{var e,o,n;return(n=(o=l.overflow)!=null?o:(e=d.value)==null?void 0:e.overflow)!=null?n:!1}),Q=s(()=>x.value?{display:"flex"}:{}),W=s(()=>{var e,o,n;const S=(n=(o=l.transition)!=null?o:(e=d.value)==null?void 0:e.transition)!=null?n:j,le={name:S,onAfterEnter:C,onBeforeLeave:p,onAfterLeave:_};if(ve(S)){const t={...S},E=(v,oe)=>F=>{ye(v)?v.forEach(w=>{M(w)&&w(F)}):M(v)&&v(F),oe()};return t.onAfterEnter=E(t.onAfterEnter,C),t.onBeforeLeave=E(t.onBeforeLeave,p),t.onAfterLeave=E(t.onAfterLeave,_),t.name||(t.name=j),t}return le});function C(){u("opened")}function _(){u("closed"),u(V,!1),l.destroyOnClose&&(f.value=!1)}function p(){u("close")}function O(){c==null||c(),r==null||r(),l.openDelay&&l.openDelay>0?{stop:r}=z(()=>P(),l.openDelay):P()}function B(){r==null||r(),c==null||c(),l.closeDelay&&l.closeDelay>0?{stop:c}=z(()=>I(),l.closeDelay):I()}function A(){function e(o){o||(g.value=!0,i.value=!1)}l.beforeClose?l.beforeClose(e):B()}function X(){l.closeOnClickModal&&A()}function P(){ue&&(i.value=!0)}function I(){i.value=!1}function Y(){u("openAutoFocus")}function H(){u("closeAutoFocus")}function R(e){var o;((o=e.detail)==null?void 0:o.focusReason)==="pointer"&&e.preventDefault()}l.lockScroll&&fe(i);function ee(){l.closeOnPressEscape&&A()}return D(()=>l.zIndex,()=>{var e;b.value=(e=l.zIndex)!=null?e:m()}),D(()=>l.modelValue,e=>{var o;e?(g.value=!1,O(),f.value=!0,b.value=(o=l.zIndex)!=null?o:m(),ge(()=>{u("open"),a.value&&(a.value.parentElement.scrollTop=0,a.value.parentElement.scrollLeft=0,a.value.scrollTop=0)})):i.value&&B()}),D(()=>l.fullscreen,e=>{a.value&&(e?(T=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=T)}),me(()=>{l.modelValue&&(i.value=!0,f.value=!0,O())}),{afterEnter:C,afterLeave:_,beforeLeave:p,handleClose:A,onModalClick:X,close:B,doClose:I,onOpenAutoFocus:Y,onCloseAutoFocus:H,onCloseRequested:ee,onFocusoutPrevented:R,titleId:$,bodyId:q,closed:g,style:K,overlayDialogStyle:Q,rendered:f,visible:i,zIndex:b,transitionConfig:W,_draggable:Z,_alignCenter:x,_overflow:J}};export{Le as a,De as b,be as c,Te as d,Ee as e,he as u};
